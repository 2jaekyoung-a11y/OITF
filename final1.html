<style>
  .final-section {
    height: 60vh; /* 화면 60% 높이만 사용 */
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    opacity: 0;
    transition: opacity 1.5s ease-in-out;
    background-color: black;
  }
  .final-section.visible {
    opacity: 1;
  }
</style>

<section class="final-section">
  <h3>2026년도 잘 부탁드립니다!</h3>
</section>

<script>
  const letterSection = document.querySelector('.letter-section');
  const finalSection = document.querySelector('.final-section');

  window.addEventListener('scroll', () => {
    const rectLetter = letterSection.getBoundingClientRect();
    
    // 편지 보일 때
    if (rectLetter.top < window.innerHeight - 50 && rectLetter.bottom > 50) {
      letterSection.classList.add('visible');
      finalSection.classList.remove('visible');
    }

    // 편지 절반이 지나면 마지막 섹션 표시
    if (rectLetter.bottom <= window.innerHeight / 2) {
      letterSection.classList.remove('visible');
      finalSection.classList.add('visible');
    }
  });

  window.dispatchEvent(new Event('scroll'));
</script>
